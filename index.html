<!DOCTYPE html>
<html>
<head>
    <title>Logseq Bridge</title>
    <style>
        body { 
            background: #111; color: #eee; font-family: sans-serif; 
            display: flex; flex-direction: column; align-items: center; 
            justify-content: center; height: 100vh; margin: 0; 
        }
        button { 
            padding: 15px 30px; font-size: 1.2rem; cursor: pointer; 
            background: #2d81ff; color: white; border: none; border-radius: 8px; 
        }
        button:hover { background: #1a66cc; }
    </style>
   <script>
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const page = urlParams.get('page') || 'Incoming';
        const title = urlParams.get('title') || 'New Entry';
        
        const logseqURI = `logseq://x-callback-url/quickCapture?page=${encodeURIComponent(page)}&title=${encodeURIComponent(title)}`;

        // 1. Launch Logseq
        window.location.href = logseqURI;

        // 2. The "Fade to Black"
        // After 500ms, send the browser to a blank page so it's "out of sight"
        setTimeout(() => {
            window.location.href = "about:blank";
        }, 500);
    };
</script>
</head>
<body>
    <h2>Sent to Logseq!</h2>
    <p>If this tab didn't "self-destruct," hit the button:</p>
    <button onclick="window.close()">Close Tab</button>
</body>
</html>
